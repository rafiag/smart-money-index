# =============================================================================
# Smart Money Divergence Index - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values
# Never commit the .env file to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------

# Development (SQLite) - Default for local development
DATABASE_URL=sqlite:///data/divergence.db

# Production (PostgreSQL) - Uncomment and configure for production deployment
# DATABASE_URL=postgresql://username:password@hostname:5432/database_name

# Examples:
# - Local PostgreSQL: postgresql://postgres:password@localhost:5432/divergence
# - Render.com: postgresql://user:pass@dpg-xxxxx.render.com:5432/divergence_db
# - Railway.app: postgresql://user:pass@containers-us-west-xxx.railway.app:5432/railway


# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------

# Environment: development or production
ENVIRONMENT=development

# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO


# -----------------------------------------------------------------------------
# Data Collection Settings
# -----------------------------------------------------------------------------

# Start date for historical data collection (YYYY-MM-DD)
DATA_START_DATE=2024-01-01

# Enable caching of API responses (true/false)
ENABLE_CACHING=true

# Cache expiration in hours
CACHE_EXPIRY_HOURS=24


# -----------------------------------------------------------------------------
# API Rate Limiting (Requests per Minute)
# -----------------------------------------------------------------------------
# These limits help prevent hitting API rate limits and getting blocked
# Adjust based on your API tier or if you encounter rate limit errors

# SEC EDGAR - Recommended: 60 requests/minute (1 per second)
SEC_RATE_LIMIT=60

# Google Trends - Unofficial limit: ~100 requests/hour
GOOGLE_TRENDS_RATE_LIMIT=100

# Yahoo Finance - No official limit, but be respectful
YAHOO_FINANCE_RATE_LIMIT=2000


# -----------------------------------------------------------------------------
# Data Processing Settings
# -----------------------------------------------------------------------------

# Z-score rolling window (days) for short-term signals
ZSCORE_SHORT_WINDOW=30

# Z-score rolling window (days) for long-term trends
ZSCORE_LONG_WINDOW=90

# Minimum data points required before calculating Z-scores
MIN_DATA_POINTS_FOR_ZSCORE=14

# Maximum days to forward-fill missing data
MAX_FORWARD_FILL_DAYS=3

# IQR multiplier for outlier detection (standard is 1.5)
IQR_MULTIPLIER=1.5

# Winsorization percentile for capping outliers
WINSORIZE_PERCENTILE=99


# -----------------------------------------------------------------------------
# Dashboard Settings (Streamlit)
# -----------------------------------------------------------------------------

# Dashboard title
DASHBOARD_TITLE=Smart Money Divergence Index

# Default chart height in pixels
CHART_HEIGHT=600

# Chart colors (hex format)
CHART_COLOR_INSTITUTIONAL=#3B82F6
CHART_COLOR_RETAIL=#10B981
CHART_COLOR_PRICE=#F59E0B


# -----------------------------------------------------------------------------
# Phase 2: Automation Settings (Not Yet Implemented)
# -----------------------------------------------------------------------------

# Enable automated data refresh (true/false)
# ENABLE_AUTO_REFRESH=false

# Data refresh schedule (cron format)
# REFRESH_SCHEDULE_RETAIL=0 2 * * 1  # Every Monday at 2 AM
# REFRESH_SCHEDULE_INSTITUTIONAL=0 3 1 */3 *  # First day of quarter at 3 AM


# -----------------------------------------------------------------------------
# Security & Performance
# -----------------------------------------------------------------------------

# Secret key for session management (generate a random string for production)
# SECRET_KEY=your_secret_key_here_generate_a_random_string

# Enable SQL query logging (useful for debugging, disable in production)
# SQL_ECHO=false

# Database connection pool size
# DB_POOL_SIZE=5

# Database connection pool timeout (seconds)
# DB_POOL_TIMEOUT=30


# -----------------------------------------------------------------------------
# Deployment Settings (Production Only)
# -----------------------------------------------------------------------------

# Sentry DSN for error tracking (optional)
# SENTRY_DSN=https://xxxxx@sentry.io/xxxxx

# Enable production mode optimizations
# PRODUCTION_MODE=false

# Allowed hosts (comma-separated)
# ALLOWED_HOSTS=localhost,127.0.0.1,your-domain.com

# CORS allowed origins (comma-separated)
# CORS_ORIGINS=https://your-domain.com


# =============================================================================
# End of Configuration
# =============================================================================
